<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="board">
	<insert id="insert" parameterType="boardvo">
		<![CDATA[
			insert into board values(null,#{title},#{contents},
			#{hit},date_format(now(),'%Y-%m-%d %h:%i:%s'),
			#{group_no},#{order_no},#{depth},#{user_no})
		]]>
	</insert>
	
	
	<select id="getList" resultType="boardvo" >
		<![CDATA[
			SELECT u.name,b.no, b.title, b.contents, b.hit, b.reg_date,b.user_no 
			 FROM user u, board b 
			 WHERE u.no = b.user_no
			ORDER BY group_no DESC, order_no ASC
		]]>
	</select>
	
	<select id="getList2" resultType="boardvo" parameterType="long"> 
		<![CDATA[
			select no, name, contents, date_format(reg_date,'%Y-%m-%d %h:%i:%s')
			 from guestbook
			order by reg_date desc
		]]>
		<if test="_parameter > 0">
			<![CDATA[
				where no < #{_parameter}
			]]>
		</if>
	</select>

	
	<delete id="delete" parameterType="boardvo">
		<![CDATA[
			
		]]>
	</delete>
	
</mapper>
